<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SC-200 Practice Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .correct-answer {
            background-color: #d1fae5;
            border-left: 4px solid #10b981;
        }
        .incorrect-answer {
            background-color: #fee2e2;
            border-left: 4px solid #ef4444;
        }
        .explanation {
            background-color: #f3f4f6;
            border-left: 4px solid #6b7280;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900">SC-200 Practice Quiz</h1>
            <p class="text-lg text-gray-600 mt-2">Test your knowledge for the Microsoft Security Operations Analyst exam.</p>
        </header>

        <main id="quiz-container" class="bg-white p-6 rounded-lg shadow-md">
            <div id="start-screen">
                <h2 class="text-2xl font-semibold mb-4">Customize Your Quiz</h2>
                
                <div class="mb-4">
                    <label for="num-questions" class="block text-sm font-medium text-gray-700">Number of Questions:</label>
                    <input type="number" id="num-questions" name="num-questions" min="5" max="50" value="20" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm p-2">
                </div>

                <div class="mb-6">
                    <p class="block text-sm font-medium text-gray-700 mb-2">Select Topics:</p>
                    <div id="topic-selection" class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <input type="checkbox" id="topic-all" name="topic-all" value="all" checked class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <label for="topic-all" class="ml-3 text-sm text-gray-600 font-bold">All Topics</label>
                        </div>
                        <div>
                            <input type="checkbox" id="topic-sentinel" name="topic-sentinel" value="Microsoft Sentinel" class="topic-checkbox h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <label for="topic-sentinel" class="ml-3 text-sm text-gray-600">Microsoft Sentinel</label>
                        </div>
                        <div>
                            <input type="checkbox" id="topic-defender365" name="topic-defender365" value="Microsoft 365 Defender" class="topic-checkbox h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <label for="topic-defender365" class="ml-3 text-sm text-gray-600">Microsoft 365 Defender</label>
                        </div>
                        <div>
                            <input type="checkbox" id="topic-defendercloud" name="topic-defendercloud" value="Microsoft Defender for Cloud" class="topic-checkbox h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <label for="topic-defendercloud" class="ml-3 text-sm text-gray-600">Microsoft Defender for Cloud</label>
                        </div>
                         <div>
                            <input type="checkbox" id="topic-copilot" name="topic-copilot" value="Microsoft Security Copilot" class="topic-checkbox h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <label for="topic-copilot" class="ml-3 text-sm text-gray-600">Microsoft Security Copilot</label>
                        </div>
                        <div>
                            <input type="checkbox" id="topic-kql" name="topic-kql" value="KQL" class="topic-checkbox h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                            <label for="topic-kql" class="ml-3 text-sm text-gray-600">KQL</label>
                        </div>
                    </div>
                     <div id="topic-error" class="text-red-500 text-sm mt-2 hidden">Please select at least one topic.</div>
                </div>

                <button id="start-btn" class="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors">Start Quiz</button>
            </div>

            <div id="question-screen" class="hidden">
                <div class="mb-4">
                    <p class="text-gray-600">Question <span id="question-number"></span></p>
                    <div class="bg-gray-200 rounded-full h-2.5 mt-2">
                        <div id="progress-bar" class="bg-blue-600 h-2.5 rounded-full" style="width: 0%"></div>
                    </div>
                </div>
                <h2 id="question-text" class="text-xl font-semibold mb-6"></h2>
                <div id="options-container" class="space-y-4"></div>
                 <div id="feedback-container" class="mt-6"></div>
                <button id="next-btn" class="w-full mt-6 bg-gray-800 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-900 transition-colors hidden">Next Question</button>
            </div>

            <div id="results-screen" class="hidden text-center">
                <h2 class="text-2xl font-semibold mb-4">Quiz Complete!</h2>
                <p class="text-lg mb-2">You scored <span id="final-score" class="font-bold"></span>.</p>
                <p id="score-percentage" class="text-4xl font-bold mb-6 text-blue-600"></p>
                <div id="study-focus" class="text-left">
                    <h3 class="font-semibold text-xl mb-3">Areas for Further Study:</h3>
                    <ul id="study-topics-list" class="list-disc list-inside space-y-2"></ul>
                </div>
                <button id="restart-btn" class="w-full mt-8 bg-blue-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors">Take Another Quiz</button>
            </div>
        </main>
    </div>

    <script>
        const questionBank = [
            // Microsoft Sentinel Questions (60)
            { question: "What is the primary purpose of Microsoft Sentinel?", options: ["To provide a detailed inventory of all Azure resources", "To manage and enforce security policies across Microsoft 365", "To act as a cloud-native SIEM and SOAR solution", "To scan web applications for vulnerabilities"], answer: "To act as a cloud-native SIEM and SOAR solution", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/overview" },
            { question: "What is the role of 'data connectors' in Microsoft Sentinel?", options: ["To create custom visualizations and dashboards.", "To ingest data from various sources into the Log Analytics workspace.", "To define automated responses to security incidents.", "To manage user access and permissions within Sentinel."], answer: "To ingest data from various sources into the Log Analytics workspace.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/connect-data-sources" },
            { question: "What is a Microsoft Sentinel 'playbook'?", options: ["A predefined set of hunting queries.", "A collection of log data from a specific data connector.", "A visual representation of an attack chain.", "An automated set of actions, built on Azure Logic Apps, that can be run in response to an alert."], answer: "An automated set of actions, built on Azure Logic Apps, that can be run in response to an alert.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/tutorial-respond-threats-playbook" },
            { question: "Which feature within Microsoft Sentinel uses machine learning to find anomalous behaviors and multi-stage attacks?", options: ["Data Connectors", "Workbooks", "User and Entity Behavior Analytics (UEBA)", "Hunting"], answer: "User and Entity Behavior Analytics (UEBA)", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/identify-advanced-threats-with-ueba" },
            { question: "In Microsoft Sentinel, what is the 'Hunting' feature used for?", options: ["Automating responses to known threats.", "Proactively searching for undetected threats in your data.", "Visualizing security data in dashboards.", "Managing data retention policies."], answer: "Proactively searching for undetected threats in your data.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/hunting" },
            { question: "Which Azure role is required at the Resource Group level to configure Microsoft Sentinel?", options: ["Reader", "Security Admin", "Log Analytics Contributor", "Sentinel Responder"], answer: "Log Analytics Contributor", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/roles" },
            { question: "What is the purpose of the 'Fusion' analytics rule in Microsoft Sentinel?", options: ["To merge duplicate incidents.", "To use machine learning to detect multistage attacks by correlating alerts from different sources.", "To connect to threat intelligence feeds.", "To schedule KQL queries to run at regular intervals."], answer: "To use machine learning to detect multistage attacks by correlating alerts from different sources.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/fusion" },
            { question: "You need to retain Sentinel log data for 5 years for compliance reasons. How can you achieve this?", options: ["Configure data retention on the Log Analytics Workspace for 5 years.", "Export logs to an Azure Storage Account and configure an immutable policy.", "Configure long-term log archival on the Log Analytics Workspace.", "It is not possible to retain logs for more than 2 years."], answer: "Configure long-term log archival on the Log Analytics Workspace.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/azure-monitor/logs/data-retention-archive" },
            { question: "Which type of Sentinel analytics rule provides the fastest detection time, typically within 1-2 minutes of the event?", options: ["Scheduled", "NRT (Near-real-time)", "Fusion", "Microsoft security"], answer: "NRT (Near-real-time)", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/create-nrt-rules" },
            { question: "What is the primary function of a Microsoft Sentinel 'watchlist'?", options: ["To monitor the health of data connectors.", "To provide a list of high-value assets for prioritization.", "To serve as a high-fidelity data source to correlate against other event data.", "To track the status of ongoing investigations."], answer: "To serve as a high-fidelity data source to correlate against other event data.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/watchlists" },
            { question: "How can you ingest threat intelligence from a STIX/TAXII server into Microsoft Sentinel?", options: ["Using a custom PowerShell script", "Via the Threat Intelligence Platforms data connector", "It is not a supported feature", "By manually creating indicators"], answer: "Via the Threat Intelligence Platforms data connector", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/connect-threat-intelligence-taxii" },
            { question: "What is the purpose of the 'Content hub' in Microsoft Sentinel?", options: ["A place to store incident evidence", "A centralized location to discover and deploy out-of-the-box content and solutions", "A forum for security analysts to discuss threats", "A repository for custom KQL functions"], answer: "A centralized location to discover and deploy out-of-the-box content and solutions", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/sentinel-solutions-deploy" },
            { question: "An analytics rule you wrote is generating too many false positives. What is the BEST first step to address this?", options: ["Delete the rule", "Disable the rule temporarily", "Tune the rule's logic to be more specific and add exclusions", "Increase the rule's running frequency"], answer: "Tune the rule's logic to be more specific and add exclusions", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/false-positives" },
            { question: "What is an 'Automation Rule' in Microsoft Sentinel primarily used for?", options: ["To run KQL queries on a schedule", "To perform incident management tasks like assigning an owner or changing status automatically", "To create custom workbooks", "To manage data connectors"], answer: "To perform incident management tasks like assigning an owner or changing status automatically", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/create-manage-automation-rules" },
            { question: "Which role allows a user to investigate incidents and view data but NOT modify Sentinel settings or create rules?", options: ["Microsoft Sentinel Contributor", "Microsoft Sentinel Reader", "Microsoft Sentinel Responder", "Microsoft Sentinel Playbook Operator"], answer: "Microsoft Sentinel Responder", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/roles" },
            { question: "What is a key benefit of using ASIM (Advanced Security Information Model) parsers in your KQL queries?", options: ["They make queries run faster.", "They allow you to use a single, normalized query across different data source types.", "They automatically create incidents from alerts.", "They provide pre-built machine learning models."], answer: "They allow you to use a single, normalized query across different data source types.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/normalization-about" },
            { question: "You want to visually investigate the relationships between an incident's entities. Which Sentinel feature should you use?", options: ["Workbook", "Investigation Graph", "Hunting Dashboard", "Livestream"], answer: "Investigation Graph", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/investigate-cases" },
            { question: "What is 'Livestream' in the context of threat hunting in Sentinel?", options: ["A video conference with the SOC team.", "An interactive session where new events are tested against a query in real time.", "A dashboard showing the latest global threats.", "A way to export logs to a live feed."], answer: "An interactive session where new events are tested against a query in real time.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/livestream" },
            { question: "To collect security events from Windows machines that are not in Azure, which agent should you deploy?", options: ["The Direct Access Agent", "The Azure Monitor Agent (AMA)", "The IIS Log Collector", "The Network Watcher Agent"], answer: "The Azure Monitor Agent (AMA)", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/connect-windows-security-events-ama" },
            { question: "What is the purpose of entity mapping in a scheduled analytics rule?", options: ["To assign the incident to a specific person.", "To identify and classify key entities like users, hosts, and IPs for investigation.", "To map the rule to the MITRE ATT&CK framework.", "To define the query schedule."], answer: "To identify and classify key entities like users, hosts, and IPs for investigation.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/map-data-fields-to-entities" },
            { question: "Which feature allows you to manage and deploy Sentinel content as code from a source control repository like GitHub or Azure DevOps?", options: ["Content Hub", "Workbooks", "Repositories", "Playbooks"], answer: "Repositories", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/ci-cd-overview" },
            { question: "You need to trigger a playbook when a new incident is created, but only if the incident's severity is 'High'. How do you achieve this?", options: ["Code the condition into the Logic App.", "Create a single automation rule with a condition for High severity incidents.", "Create two separate playbooks.", "This level of conditional automation is not possible."], answer: "Create a single automation rule with a condition for High severity incidents.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/create-manage-automation-rules#automation-rule-conditions" },
            { question: "What is a 'bookmark' used for during a threat hunt in Microsoft Sentinel?", options: ["To save a KQL query for later use.", "To save interesting query results as data points for future investigation or incident creation.", "To mark a data connector as a favorite.", "To create a link to external documentation."], answer: "To save interesting query results as data points for future investigation or incident creation.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/bookmarks" },
            { question: "What type of data source uses the Common Event Format (CEF) for ingestion into Sentinel?", options: ["Microsoft 365 services", "Many third-party security appliances and systems", "Windows Security Events", "Azure Activity Logs"], answer: "Many third-party security appliances and systems", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/connect-common-event-format" },
            { question: "What is the primary goal of the MITRE ATT&CK view in Microsoft Sentinel?", options: ["To view active security alerts.", "To visualize your organization's detection coverage against known adversary tactics and techniques.", "To manage your data retention policies.", "To see the health of your data connectors."], answer: "To visualize your organization's detection coverage against known adversary tactics and techniques.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/mitre-attack-coverage" },
            { question: "What is the purpose of a Microsoft Sentinel solution?", options: ["A single analytics rule", "A package of content like data connectors, workbooks, and analytics rules for a specific product or service", "A type of data connector", "A user role"], answer: "A package of content like data connectors, workbooks, and analytics rules for a specific product or service", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/sentinel-solutions" },
            { question: "You need to query data that is more than 90 days old and has been moved to archived logs. Which Sentinel feature must you use?", options: ["Hunting", "Search job", "Workbook", "Notebook"], answer: "Search job", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/search-jobs" },
            { question: "What technology are Microsoft Sentinel Workbooks built upon?", options: ["Power BI", "SQL Server Reporting Services", "Azure Monitor Workbooks", "Grafana"], answer: "Azure Monitor Workbooks", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/workbooks-overview" },
            { question: "What is the maximum amount of time a scheduled analytics rule query can run before it times out?", options: ["1 minute", "10 minutes", "30 minutes", "1 hour"], answer: "10 minutes", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/detect-threats-custom#query-scheduling-and-alert-threshold" },
            { question: "To analyze data in Sentinel using Python, which feature would you use?", options: ["Playbooks", "Workbooks", "Notebooks", "Repositories"], answer: "Notebooks", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/notebooks" },
            { question: "What is the purpose of the 'Entity behavior' section of an entity page?", options: ["To show the entity's group memberships.", "To provide a timeline of the entity's activity and highlight anomalous actions.", "To list all incidents associated with the entity.", "To change the entity's risk score."], answer: "To provide a timeline of the entity's activity and highlight anomalous actions.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/entity-pages" },
            { question: "Which data connector should you use to bring in Microsoft Defender XDR incidents and alerts?", options: ["Microsoft 365 Defender", "Microsoft Defender for Cloud", "Threat Intelligence Platforms", "Windows Security Events"], answer: "Microsoft 365 Defender", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/connect-microsoft-365-defender" },
            { question: "What is an 'incident task' in Microsoft Sentinel?", options: ["A task to deploy a new data connector.", "A checklist item that can be added to an incident to standardize analyst actions.", "A type of automation rule.", "A scheduled KQL query."], answer: "A checklist item that can be added to an incident to standardize analyst actions.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/investigate-cases#use-tasks-to-manage-incidents" },
            { question: "You want to forward logs from an on-premises Syslog server to Microsoft Sentinel. What do you need to deploy?", options: ["An Azure VM running a custom script", "The Azure Monitor Agent on the Syslog server", "A Syslog forwarder, typically the Azure Monitor Agent on a Linux machine", "A direct VPN connection"], answer: "A Syslog forwarder, typically the Azure Monitor Agent on a Linux machine", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/connect-syslog" },
            { question: "In a scheduled analytics rule, what does the 'Event grouping' setting control?", options: ["How many events are needed to trigger an alert.", "How events are grouped into a single alert.", "How entities are grouped in the investigation graph.", "Which data connectors to query."], answer: "How events are grouped into a single alert.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/detect-threats-custom#event-grouping" },
            { question: "Which built-in role can run playbooks in response to incidents?", options: ["Microsoft Sentinel Reader", "Microsoft Sentinel Responder", "Microsoft Sentinel Contributor", "Microsoft Sentinel Playbook Operator"], answer: "Microsoft Sentinel Playbook Operator", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/roles#microsoft-sentinel-playbook-operator" },
            { question: "What information does the 'SOC efficiency' workbook provide?", options: ["The health of your data connectors.", "Metrics on incident handling performance, such as mean time to triage and resolve.", "A list of the most active analytics rules.", "A summary of threat intelligence data."], answer: "Metrics on incident handling performance, such as mean time to triage and resolve.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/manage-soc-with-incident-metrics" },
            { question: "To prevent an analytics rule from creating alerts for specific, known-benign activity (e.g., from a vulnerability scanner IP), what should you do?", options: ["Add the IP address to a watchlist and exclude it in the query.", "Create an automation rule to auto-close alerts from that IP.", "Disable the analytics rule during scans.", "Delete the alerts manually after they are created."], answer: "Add the IP address to a watchlist and exclude it in the query.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/watchlists-queries" },
            { question: "What is the purpose of 'Data collection rules' (DCRs) when ingesting logs with the Azure Monitor Agent?", options: ["To define which data is collected from the agent and where it is sent.", "To set the data retention period for logs.", "To define the alert logic for incoming logs.", "To assign permissions for accessing logs."], answer: "To define which data is collected from the agent and where it is sent.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/azure-monitor/essentials/data-collection-rule-overview" },
            { question: "Which feature in Sentinel is best for visualizing data over time and creating interactive dashboards?", options: ["Hunting", "Playbooks", "Workbooks", "Analytics Rules"], answer: "Workbooks", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/workbooks-overview" },
            { question: "What is the primary log data repository for Microsoft Sentinel?", options: ["Azure SQL Database", "Azure Data Lake Storage", "Azure Log Analytics Workspace", "Azure Cosmos DB"], answer: "Azure Log Analytics Workspace", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/plan-and-manage-costs" },
            { question: "When investigating an incident, what does the 'Timeline' view show?", options: ["The history of all changes made to the incident.", "A chronological list of all alerts and bookmarks associated with the incident.", "The scheduled run times for the related analytics rule.", "The on-call schedule for the SOC team."], answer: "A chronological list of all alerts and bookmarks associated with the incident.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/investigate-cases#view-the-incident-timeline" },
            { question: "You want to be alerted if a user is added to a sensitive group like 'Domain Admins'. What is the best way to achieve this in Sentinel?", options: ["Enable UEBA and hope it detects the anomaly.", "Create a scheduled analytics rule that queries security events for group membership changes.", "Create a playbook to monitor group memberships.", "Manually check the group memberships every day."], answer: "Create a scheduled analytics rule that queries security events for group membership changes.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/detect-threats-custom" },
            { question: "What does the Microsoft Sentinel 'Contributor' role allow a user to do?", options: ["View data, incidents, and workbooks only.", "Manage analytics rules, workbooks, and other Sentinel resources.", "Run playbooks only.", "Investigate incidents but not create rules."], answer: "Manage analytics rules, workbooks, and other Sentinel resources.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/roles#microsoft-sentinel-contributor" },
            { question: "What is the primary purpose of a threat intelligence data connector?", options: ["To collect performance logs from firewalls.", "To import indicators of compromise (IoCs) like malicious IPs and file hashes.", "To collect user sign-in logs.", "To monitor network traffic."], answer: "To import indicators of compromise (IoCs) like malicious IPs and file hashes.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/understand-threat-intelligence" },
            { question: "A playbook failed to run. Where is the first place you should look to troubleshoot?", options: ["The analytics rule that triggered it.", "The Runs history of the Logic App.", "The Sentinel activity log.", "The incident timeline."], answer: "The Runs history of the Logic App.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/logic-apps/logic-apps-diagnosing-failures" },
            { question: "What is the 'alert details' page in Sentinel used for?", options: ["To provide a comprehensive view of a specific alert, its entities, and its mapped MITRE ATT&CK tactics.", "To configure all alert settings for the workspace.", "To list all active incidents.", "To design a new workbook."], answer: "To provide a comprehensive view of a specific alert, its entities, and its mapped MITRE ATT&CK tactics.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/investigate-cases#dive-deeper-into-alerts" },
            { question: "Which feature would you use to proactively search for signs of a specific, newly reported threat actor in your environment's data?", options: ["Playbooks", "Workbooks", "Hunting", "UEBA"], answer: "Hunting", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/hunting" },
            { question: "What does 'alert grouping' in an analytics rule help with?", options: ["Reducing alert fatigue by grouping multiple related events into a single alert.", "Assigning alerts to different analysts.", "Changing the severity of alerts.", "Exporting alerts to a third-party system."], answer: "Reducing alert fatigue by grouping multiple related events into a single alert.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/detect-threats-custom#event-grouping-and-alert-grouping" },
            { question: "If you want to restore archived logs to perform an investigation, what is the outcome?", options: ["The logs are moved back to hot storage permanently.", "A new table is created with the restored data for high-performance querying.", "The logs are temporarily available in the archive tier for querying.", "The logs are sent to an email address."], answer: "A new table is created with the restored data for high-performance querying.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/azure-monitor/logs/restore" },
            { question: "Which type of analytics rule is used to detect threats based on patterns identified by Microsoft's security research teams?", options: ["Scheduled", "NRT", "Threat Intelligence", "Microsoft security"], answer: "Microsoft security", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/detect-threats-built-in" },
            { question: "What role must be assigned to a playbook's managed identity to allow it to take actions in Microsoft Sentinel?", options: ["Microsoft Sentinel Reader", "Microsoft Sentinel Responder", "Microsoft Sentinel Contributor", "Global Administrator"], answer: "Microsoft Sentinel Responder", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/tutorial-respond-threats-playbook#give-the-logic-app-permissions-to-take-action" },
            { question: "You want to find the top 10 most frequent security events. Which KQL operator would you use?", options: ["top 10 by EventID", "summarize count() by EventID | top 10 by count_", "take 10", "sort by EventID | take 10"], answer: "summarize count() by EventID | top 10 by count_", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/top-operator" },
            { question: "What is the purpose of the 'Security Nested-Incident' Logic App template?", options: ["To create a new Sentinel workspace.", "To create a 'meta-incident' that links several related incidents together for easier management.", "To forward incidents to a third-party ticketing system.", "To automatically remediate common threats."], answer: "To create a 'meta-incident' that links several related incidents together for easier management.", topic: "Microsoft Sentinel", documentation: "https://techcommunity.microsoft.com/t5/microsoft-sentinel-blog/streamline-incident-management-with-the-new-security-nested/ba-p/3777717" },
            { question: "Which Sentinel pricing tier is based on a commitment for a fixed daily data ingestion volume?", options: ["Pay-As-You-Go", "Commitment Tiers (formerly Capacity Reservations)", "Free Trial", "Archived Logs"], answer: "Commitment Tiers (formerly Capacity Reservations)", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/billing#commitment-tiers" },
            { question: "Which page in Microsoft Sentinel provides a high-level overview of the security posture, including active incidents, events, and data source anomalies?", options: ["Incidents", "Overview", "Workbooks", "Hunting"], answer: "Overview", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/get-visibility" },
            { question: "A custom analytics rule needs to check a watchlist for known malicious IPs. Which KQL function is best for this?", options: ["_GetWatchlist('name')", "externaldata()", "datatable()", "find"], answer: "_GetWatchlist('name')", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/watchlists-queries#use-watchlists-in-queries" },
            { question: "What does enabling UEBA (User and Entity Behavior Analytics) on a data source do?", options: ["It encrypts the data at rest.", "It enriches the data with behavioral insights and baselines for entities.", "It deletes the raw logs to save space.", "It forwards the logs to a third-party SIEM."], answer: "It enriches the data with behavioral insights and baselines for entities.", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/enable-entity-behavior-analytics" },
            { question: "To see which of your analytics rules are mapped to specific MITRE ATT&CK techniques, where should you look?", options: ["The MITRE ATT&CK page", "The Workbooks page", "The Data Connectors page", "The Analytics page"], answer: "The MITRE ATT&CK page", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/mitre-attack-coverage#query-analytics-rule-coverage" },
            { question: "You need to grant a Logic App (playbook) permissions to isolate a VM. Which service's permissions does the Logic App's managed identity need?", options: ["Microsoft Sentinel", "Azure Log Analytics", "Azure Virtual Machine", "Azure Active Directory"], answer: "Azure Virtual Machine", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/tutorial-respond-threats-playbook" },
            { question: "Which type of analytics rule can use a sliding window to look back at data over a longer period than the query frequency?", options: ["NRT", "Microsoft security", "Scheduled", "Fusion"], answer: "Scheduled", topic: "Microsoft Sentinel", documentation: "https://learn.microsoft.com/en-us/azure/sentinel/detect-threats-custom#define-the-query-logic-and-configure-settings" },

            // Microsoft 365 Defender Questions (60)
            { question: "Which component in Microsoft 365 Defender is designed to protect against malicious threats in email and collaboration tools?", options: ["Microsoft Defender for Endpoint", "Microsoft Defender for Identity", "Microsoft Defender for Office 365", "Microsoft Defender for Cloud Apps"], answer: "Microsoft Defender for Office 365", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/office-365-security/defender-for-office-365" },
            { question: "Which feature in Microsoft Defender for Endpoint provides real-time discovery of vulnerabilities and misconfigurations on devices?", options: ["Attack Surface Reduction", "Automated Investigation and Response (AIR)", "Threat & Vulnerability Management", "Endpoint Detection and Response (EDR)"], answer: "Threat & Vulnerability Management", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/next-gen-threat-and-vuln-mgt" },
            { question: "Which Microsoft 365 Defender component helps you discover, classify, and protect sensitive information wherever it lives or travels?", options: ["Microsoft Defender for Cloud Apps", "Microsoft Information Protection (MIP)", "Insider Risk Management", "eDiscovery"], answer: "Microsoft Information Protection (MIP)", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/compliance/information-protection" },
            { question: "What is the purpose of 'Attack Surface Reduction' rules in Microsoft Defender for Endpoint?", options: ["To isolate compromised devices from the network.", "To provide a list of software vulnerabilities on a device.", "To prevent actions and behaviors commonly used by malware and malicious applications.", "To investigate the timeline of an attack on an endpoint."], answer: "To prevent actions and behaviors commonly used by malware and malicious applications.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/attack-surface-reduction-rules-reference" },
            { question: "Which component of Microsoft 365 Defender focuses on identifying and protecting against malicious activities from compromised user accounts and insider threats?", options: ["Microsoft Defender for Office 365", "Microsoft Defender for Endpoint", "Microsoft Defender for Identity", "Microsoft Defender for Cloud Apps"], answer: "Microsoft Defender for Identity", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-for-identity/what-is" },
            { question: "What is the purpose of the 'evaluation lab' in Microsoft 365 Defender?", options: ["To test deployment scripts.", "To provide a safe environment to test threat protection features and run attack simulations.", "To store quarantined files.", "To analyze performance metrics of the Defender portal."], answer: "To provide a safe environment to test threat protection features and run attack simulations.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/evaluation-lab" },
            { question: "In Defender for Endpoint, what does a 'Live Response' session allow an analyst to do?", options: ["View the endpoint's screen in real-time.", "Get remote command-line access to the device for in-depth investigation.", "Initiate a full antivirus scan.", "Deploy software updates."], answer: "Get remote command-line access to the device for in-depth investigation.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/live-response" },
            { question: "How does 'Automatic attack disruption' in Microsoft 365 Defender work?", options: ["It blocks all incoming network traffic during an attack.", "It automatically isolates compromised assets like user accounts and endpoints to contain an attack.", "It shuts down all cloud applications.", "It notifies all users of an ongoing attack via email."], answer: "It automatically isolates compromised assets like user accounts and endpoints to contain an attack.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/automatic-attack-disruption" },
            { question: "What is the primary goal of the 'deception' feature in Microsoft 365 Defender?", options: ["To encrypt all data on endpoints.", "To create fake user accounts to confuse attackers.", "To plant decoy accounts, hosts, and lures to proactively find and stop attackers.", "To hide real devices from the network."], answer: "To plant decoy accounts, hosts, and lures to proactively find and stop attackers.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/deception-overview" },
            { question: "In Defender for Office 365, what is the 'Report Message' add-in for Outlook used for?", options: ["To forward emails to your manager.", "To allow users to easily report suspicious emails as junk or phishing.", "To translate emails into different languages.", "To schedule email delivery."], answer: "To allow users to easily report suspicious emails as junk or phishing.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/office-365-security/submissions-users-report-message-add-in-configure" },
            { question: "What is the main function of 'Safe Attachments' in Defender for Office 365?", options: ["It encrypts email attachments.", "It checks attachments for digital signatures.", "It opens attachments in a virtual environment to detect malicious behavior.", "It compresses attachments to save space."], answer: "It opens attachments in a virtual environment to detect malicious behavior.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/office-365-security/safe-attachments-about" },
            { question: "You need to investigate a user's sign-in history and look for impossible travel alerts. Which Defender component's portal is best suited for this?", options: ["Microsoft Defender for Endpoint", "Microsoft Defender for Cloud Apps", "Microsoft Defender for Office 365", "Microsoft Defender for Identity"], answer: "Microsoft Defender for Cloud Apps", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-cloud-apps/anomaly-detection-policy" },
            { question: "What does 'Endpoint Detection and Response (EDR) in block mode' provide?", options: ["It prevents users from installing unapproved software.", "It provides post-breach detection and blocking of malicious artifacts after a non-Microsoft AV has missed them.", "It blocks all network access from an endpoint.", "It only allows access to Microsoft-approved websites."], answer: "It provides post-breach detection and blocking of malicious artifacts after a non-Microsoft AV has missed them.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/edr-in-block-mode" },
            { question: "An alert is a true positive, but it is low-priority and you have already addressed it. What action should you take in the Microsoft 365 Defender portal?", options: ["Delete the alert", "Suppress the alert", "Resolve the alert and provide a classification", "Isolate the device"], answer: "Resolve the alert and provide a classification", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/manage-incidents#manage-alerts" },
            { question: "What is an 'indicator of compromise (IoC)' in the context of Microsoft Defender for Endpoint?", options: ["A performance metric for the security team", "A forensic artifact, like a file hash or IP address, that indicates a potential intrusion", "A list of approved applications", "A user's security score"], answer: "A forensic artifact, like a file hash or IP address, that indicates a potential intrusion", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/manage-indicators" },
            { question: "What is the primary function of 'Safe Links' in Defender for Office 365?", options: ["It encrypts hyperlinks in emails.", "It rewrites URLs and scans the destination for malicious content at the time of click.", "It blocks emails containing more than 10 hyperlinks.", "It checks for spelling errors in URLs."], answer: "It rewrites URLs and scans the destination for malicious content at the time of click.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/office-365-security/safe-links-about" },
            { question: "Which feature in the Microsoft 365 Defender portal provides proactive, expert-level monitoring, analysis, and support?", options: ["Live Response", "Threat Analytics", "Microsoft Defender Experts for Hunting", "Automated Investigation"], answer: "Microsoft Defender Experts for Hunting", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/defender-experts-for-hunting" },
            { question: "In Defender for Identity, what does a 'Lateral Movement Path' visualization show?", options: ["The physical movement of a user between offices.", "The network path data takes to the internet.", "How an attacker can move within your network from one account to another.", "The promotion path of an employee within the company."], answer: "How an attacker can move within your network from one account to another.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-for-identity/understand-lateral-movement-paths" },
            { question: "What is the purpose of 'Advanced hunting' in Microsoft 365 Defender?", options: ["To automatically remediate threats.", "To use KQL to proactively search for threats across all Defender data.", "To create reports for management.", "To configure data retention policies."], answer: "To use KQL to proactively search for threats across all Defender data.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/advanced-hunting-overview" },
            { question: "You need to prevent users from sharing a file with a specific credit card number pattern via Teams. Which policy should you configure?", options: ["A Defender for Endpoint Attack Surface Reduction rule", "A Defender for Office 365 anti-phishing policy", "A Microsoft Purview Data Loss Prevention (DLP) policy", "A Defender for Cloud Apps session policy"], answer: "A Microsoft Purview Data Loss Prevention (DLP) policy", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/purview/dlp-learn-about-dlp" },
            { question: "What is the primary goal of Microsoft Defender for Identity?", options: ["To protect endpoints from malware.", "To protect on-premises Active Directory identities and services from threats.", "To secure email communication.", "To manage cloud app usage."], answer: "To protect on-premises Active Directory identities and services from threats.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-for-identity/what-is" },
            { question: "In Defender for Endpoint, how can you temporarily remove a device from isolation?", options: ["You must re-image the device.", "Run a Live Response command.", "Release the device from isolation in the action center.", "You cannot remove a device from isolation once applied."], answer: "Release the device from isolation in the action center.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/respond-machine-alerts#release-a-device-from-isolation" },
            { question: "What does 'Threat Analytics' in Microsoft 365 Defender provide?", options: ["A list of active security incidents.", "Interactive reports from Microsoft security researchers on emerging threats.", "Real-time performance metrics of the Defender service.", "A tool for creating custom detection rules."], answer: "Interactive reports from Microsoft security researchers on emerging threats.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/threat-analytics" },
            { question: "What is a 'custom detection rule' in Microsoft 365 Defender?", options: ["A rule to automatically assign incidents.", "A rule created from an Advanced Hunting query to proactively monitor for and respond to threats.", "A firewall rule.", "A data loss prevention policy."], answer: "A rule created from an Advanced Hunting query to proactively monitor for and respond to threats.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/custom-detection-rules" },
            { question: "Which feature of Defender for Cloud Apps allows you to block downloads from an unsanctioned application in real-time?", options: ["Activity log", "File policies", "Session policies", "App discovery"], answer: "Session policies", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-cloud-apps/session-policy-aad" },
            { question: "When onboarding a device to Defender for Endpoint, which of the following is a supported method for Windows 10/11 devices?", options: ["Emailing a script to the user", "Group Policy", "Manually installing an agent from a USB drive", "It is enabled automatically on all Windows devices"], answer: "Group Policy", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/onboarding-methods-and-tools" },
            { question: "What does the 'Device timeline' in Defender for Endpoint show?", options: ["The device's warranty information.", "A chronological record of events and observed behaviors on the device.", "A list of all users who have logged into the device.", "The device's network performance history."], answer: "A chronological record of events and observed behaviors on the device.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/investigate-machine" },
            { question: "You see an alert for 'Suspicious process injection'. Which Defender component most likely generated this alert?", options: ["Defender for Office 365", "Defender for Identity", "Defender for Endpoint", "Defender for Cloud Apps"], answer: "Defender for Endpoint", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/investigate-alerts" },
            { question: "How are alerts from Defender for Endpoint, Defender for Office 365, and Defender for Identity correlated in Microsoft 365 Defender?", options: ["They are not correlated.", "They are manually linked by an analyst.", "They are automatically correlated into a single incident.", "They are correlated only if they occur on the same day."], answer: "They are automatically correlated into a single incident.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/incidents-overview" },
            { question: "What is the purpose of 'device groups' in Microsoft Defender for Endpoint?", options: ["To group devices for reporting purposes only.", "To apply specific remediation actions, automation levels, and access controls to sets of devices.", "To create social groups for device owners.", "To group devices by their physical location."], answer: "To apply specific remediation actions, automation levels, and access controls to sets of devices.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/machine-groups" },
            { question: "In Defender for Office 365, what is 'Attack simulation training' used for?", options: ["To test the performance of the email filtering service.", "To run benign, simulated cyberattacks to train users and measure their security awareness.", "To simulate attacks against on-premises servers.", "To test network bandwidth."], answer: "To run benign, simulated cyberattacks to train users and measure their security awareness.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/office-365-security/attack-simulation-training-get-started" },
            { question: "What does the term 'AIR' stand for in Microsoft 365 Defender?", options: ["Advanced Incident Response", "Automated Investigation and Response", "Analyst-Initiated Remediation", "Advanced Intrusion Recognition"], answer: "Automated Investigation and Response", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/automated-investigation-response-defender" },
            { question: "Which feature of Defender for Endpoint helps block malicious websites and network connections?", options: ["Live Response", "Web protection", "Attack Surface Reduction", "Threat & Vulnerability Management"], answer: "Web protection", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/web-protection-overview" },
            { question: "You need to search for all emails from a specific sender across all mailboxes. Which portal should you use?", options: ["Microsoft Purview compliance portal (Content Search)", "Microsoft 365 Defender portal (Advanced Hunting)", "Exchange admin center", "Azure portal"], answer: "Microsoft Purview compliance portal (Content Search)", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/purview/content-search" },
            { question: "In Defender for Identity, what is a 'honeytoken' account?", options: ["A highly privileged account.", "A disabled user account.", "A decoy account used to detect and alert on unauthorized use.", "A service account."], answer: "A decoy account used to detect and alert on unauthorized use.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-for-identity/entity-tags#honeytoken-tags" },
            { question: "What is the purpose of the 'automation level' for a device group in Defender for Endpoint?", options: ["To define how quickly the device receives software updates.", "To specify the degree of automated investigation and remediation applied to devices in the group.", "To set the frequency of vulnerability scans.", "To determine which analyst is assigned to alerts from that group."], answer: "To specify the degree of automated investigation and remediation applied to devices in the group.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/automation-levels" },
            { question: "What information can you find in the Microsoft 365 Defender 'Incidents' queue?", options: ["Only endpoint alerts.", "Only email-related threats.", "A correlated collection of alerts and related evidence from across the Defender suite.", "A list of software vulnerabilities."], answer: "A correlated collection of alerts and related evidence from across the Defender suite.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/incidents-queue" },
            { question: "A user reports a phishing email. What is the best way to analyze the email headers and content for threats?", options: ["Forward the email to your personal account.", "Use the 'Submissions' page in the Microsoft 365 Defender portal.", "Ask the user to send you a screenshot.", "Open the email and click all the links."], answer: "Use the 'Submissions' page in the Microsoft 365 Defender portal.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/office-365-security/submissions-admin" },
            { question: "Which Defender for Cloud Apps policy type can be used to detect a mass download activity by a user?", options: ["Access policy", "Session policy", "Activity policy", "App discovery policy"], answer: "Activity policy", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-cloud-apps/activity-policy" },
            { question: "What is the primary KQL table for querying endpoint device events in Advanced Hunting?", options: ["EmailEvents", "AlertInfo", "DeviceEvents", "IdentityLogonEvents"], answer: "DeviceEvents", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/advanced-hunting-deviceevents-table" },
            { question: "A user's account is showing 'impossible travel' alerts. This is an example of what type of detection?", options: ["Malware signature", "Data loss prevention", "Behavioral analytics", "Vulnerability scan"], answer: "Behavioral analytics", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-cloud-apps/investigate-anomaly-detection-alerts" },
            { question: "Which Attack Surface Reduction rule helps prevent credential theft by locking down Local Security Authority Subsystem Service (LSASS.exe)?", options: ["Block executable content from email client and webmail", "Block Adobe Reader from creating child processes", "Block credential stealing from the Windows local security authority subsystem", "Use advanced protection against ransomware"], answer: "Block credential stealing from the Windows local security authority subsystem", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/attack-surface-reduction-rules-reference#block-credential-stealing-from-the-windows-local-security-authority-subsystem" },
            { question: "What is the primary data source for Microsoft Defender for Identity?", options: ["Network traffic captured from domain controllers", "Windows event logs", "Azure AD sign-in logs", "Endpoint process creation events"], answer: "Network traffic captured from domain controllers", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-for-identity/architecture" },
            { question: "You need to create a custom alert for when a specific sensitive file is downloaded from SharePoint. What should you use?", options: ["Defender for Endpoint custom detection rule", "Defender for Cloud Apps file policy", "Defender for Office 365 anti-malware policy", "Defender for Identity security alert"], answer: "Defender for Cloud Apps file policy", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-cloud-apps/data-protection-policies" },
            { question: "What is the 'Secure Score' in Microsoft 365 Defender?", options: ["A measure of a user's security awareness.", "A representation of an organization's security posture, with recommendations for improvement.", "The number of active incidents.", "The health status of the Defender service."], answer: "A representation of an organization's security posture, with recommendations for improvement.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/microsoft-secure-score" },
            { question: "Which action can you take on a device from the Defender for Endpoint portal to prevent it from accessing any network resources?", options: ["Run antivirus scan", "Collect investigation package", "Isolate device", "Restrict app execution"], answer: "Isolate device", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/respond-machine-alerts#isolate-devices-from-the-network" },
            { question: "Which KQL table in Advanced Hunting contains information about email attachments?", options: ["EmailEvents", "EmailAttachmentInfo", "DeviceFileEvents", "CloudAppEvents"], answer: "EmailAttachmentInfo", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/advanced-hunting-emailattachmentinfo-table" },
            { question: "What does an 'Automated Investigation' do?", options: ["It automatically creates a support ticket with Microsoft.", "It mimics the steps a security analyst would take to investigate and remediate a threat.", "It emails a report to the security team.", "It only collects log data for later analysis."], answer: "It mimics the steps a security analyst would take to investigate and remediate a threat.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender/automated-investigation-response-defender" },
            { question: "You want to block users from using a specific risky cloud application. What should you do in Defender for Cloud Apps?", options: ["Create a session policy.", "Mark the app as 'unsanctioned' in the Cloud App Catalog.", "Create an activity policy.", "Add the app's IP address to a blocklist."], answer: "Mark the app as 'unsanctioned' in the Cloud App Catalog.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/defender-cloud-apps/governance-actions#sanctioningunsanctioning-an-app" },
            { question: "What is the primary role of the Microsoft Purview portal in relation to the SC-200 exam?", options: ["Managing endpoint security.", "Managing Data Loss Prevention (DLP) and Insider Risk Management alerts and policies.", "Managing virtual machine security.", "Managing email filtering rules."], answer: "Managing Data Loss Prevention (DLP) and Insider Risk Management alerts and policies.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/purview/purview" },
            { question: "Which feature of Defender for Endpoint allows you to block the execution of specific files or applications, even if they aren't malware?", options: ["Attack Surface Reduction", "Indicators (File Hash)", "Web Protection", "Device Isolation"], answer: "Indicators (File Hash)", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/indicator-file" },
            { question: "An investigation requires you to examine the contents of a user's mailbox for specific keywords. What is the most appropriate tool?", options: ["Live Response", "Advanced Hunting", "Content Search in Microsoft Purview", "Defender for Identity portal"], answer: "Content Search in Microsoft Purview", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/purview/content-search" },
            { question: "What is the purpose of 'tamper protection' in Microsoft Defender for Endpoint?", options: ["To prevent users from changing their desktop wallpaper.", "To protect security settings, such as real-time protection, from being disabled by unauthorized users or malware.", "To prevent a device from being physically stolen.", "To encrypt the device's hard drive."], answer: "To protect security settings, such as real-time protection, from being disabled by unauthorized users or malware.", topic: "Microsoft 365 Defender", documentation: "https://learn.microsoft.com/en-us/microsoft-365/security/defender-endpoint/prevent-changes-to-security-settings-with-tamper-protection" },

            // Microsoft Defender for Cloud Questions (60)
            { question: "In Microsoft Defender for Cloud, what feature provides prioritized security recommendations for your connected resources?", options: ["Security Alerts", "Secure Score", "Regulatory Compliance", "Workload Protections"], answer: "Secure Score", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/secure-score-security-controls" },
            { question: "In Microsoft Defender for Cloud, what does 'Just-In-Time (JIT) VM access' help prevent?", options: ["DDoS attacks against virtual machines.", "Unauthorized access to management ports like RDP and SSH.", "Malware infections on virtual machine disks.", "Data exfiltration from running applications."], answer: "Unauthorized access to management ports like RDP and SSH.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/just-in-time-access-overview" },
            { question: "How does Microsoft Defender for Cloud help organizations with regulatory compliance?", options: ["By automatically fixing all non-compliant resources.", "By providing a dashboard that maps security controls to compliance standards like ISO 27001 and NIST.", "By blocking access from non-compliant IP addresses.", "By encrypting all data at rest by default."], answer: "By providing a dashboard that maps security controls to compliance standards like ISO 27001 and NIST.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/regulatory-compliance-dashboard" },
            { question: "Microsoft Defender for Cloud's integration with Microsoft Defender for Servers provides what primary benefit?", options: ["Network security group optimization.", "Advanced threat detection and endpoint protection (EDR) for servers.", "SQL database vulnerability assessments.", "Container image scanning."], answer: "Advanced threat detection and endpoint protection (EDR) for servers.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-servers-introduction" },
            { question: "Which of the following is a primary benefit of using Microsoft Defender for Cloud Apps?", options: ["Protecting on-premises Active Directory.", "Providing visibility and control over data travel in cloud applications.", "Securing IoT devices.", "Managing firewall rules for Azure VMs."], answer: "Providing visibility and control over data travel in cloud applications.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/defender-cloud-apps/what-is-defender-for-cloud-apps" },
            { question: "What is the purpose of Defender for DevOps in Microsoft Defender for Cloud?", options: ["To manage permissions for developers in Azure.", "To provide security visibility into DevOps platforms like GitHub and Azure DevOps.", "To optimize the performance of CI/CD pipelines.", "To automatically write application code."], answer: "To provide security visibility into DevOps platforms like GitHub and Azure DevOps.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-devops-introduction" },
            { question: "Which Defender for Cloud plan is designed to protect PaaS SQL databases?", options: ["Defender for Servers", "Defender for Storage", "Defender for DNS", "Defender for SQL"], answer: "Defender for SQL", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-sql-introduction" },
            { question: "What does 'Cloud Security Posture Management' (CSPM) in Defender for Cloud provide?", options: ["Real-time threat detection for running workloads.", "Hardening guidance and security recommendations based on an organization's security policies.", "Automated incident response playbooks.", "Protection against Distributed Denial of Service (DDoS) attacks."], answer: "Hardening guidance and security recommendations based on an organization's security policies.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/concept-cloud-security-posture-management" },
            { question: "How can you extend Defender for Cloud's protection to on-premises servers and other cloud providers like AWS and GCP?", options: ["By installing the Azure Monitor Agent and enabling Azure Arc.", "By creating a Site-to-Site VPN.", "It is not possible to protect non-Azure resources.", "By configuring a custom data connector."], answer: "By installing the Azure Monitor Agent and enabling Azure Arc.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/quickstart-onboard-machines" },
            { question: "What capability does Defender for Key Vault provide?", options: ["It manages the rotation of secrets and keys.", "It provides an extra layer of security intelligence that detects unusual and potentially harmful attempts to access or exploit Key Vault accounts.", "It backs up all secrets stored in Key Vault.", "It controls network access to Key Vault."], answer: "It provides an extra layer of security intelligence that detects unusual and potentially harmful attempts to access or exploit Key Vault accounts.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-key-vault-introduction" },
            { question: "What are 'security controls' within the context of Secure Score?", options: ["A list of active security alerts", "Logically grouped security recommendations that reflect your vulnerable attack surfaces", "Permissions assigned to security administrators", "Automated response actions"], answer: "Logically grouped security recommendations that reflect your vulnerable attack surfaces", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/secure-score-security-controls" },
            { question: "Defender for Containers provides vulnerability assessments for container images stored in which service?", options: ["Azure Blob Storage", "Azure Files", "Azure Container Registry", "Azure NetApp Files"], answer: "Azure Container Registry", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-containers-introduction" },
            { question: "What is the function of 'Adaptive Application Controls'?", options: ["It controls which users can access which applications.", "It helps define a set of allowed applications on your configured servers, based on machine learning.", "It dynamically adjusts firewall rules based on traffic patterns.", "It adapts the user interface of applications."], answer: "It helps define a set of allowed applications on your configured servers, based on machine learning.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/adaptive-application-controls" },
            { question: "Which Defender for Cloud plan helps detect anomalous activity in your Azure Storage accounts, such as unusual access or data exfiltration?", options: ["Defender for SQL", "Defender for App Service", "Defender for Storage", "Defender for Servers"], answer: "Defender for Storage", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-storage-introduction" },
            { question: "You receive a recommendation in Defender for Cloud with a 'Quick Fix' button. What does this button do?", options: ["It sends an email to the resource owner to fix the issue.", "It provides a step-by-step guide on how to fix the issue.", "It automatically deploys a template or script to remediate the identified misconfiguration.", "It temporarily suppresses the recommendation."], answer: "It automatically deploys a template or script to remediate the identified misconfiguration.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/remediate-recommendations#remediate-recommendations-with-quick-fix-remediation" },
            { question: "What is the purpose of 'attack path analysis' in Defender for Cloud?", options: ["To simulate a DDoS attack.", "To identify the most likely paths an attacker could take to compromise your resources.", "To analyze network packet captures.", "To review the history of past attacks."], answer: "To identify the most likely paths an attacker could take to compromise your resources.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/attack-path-analysis" },
            { question: "To get security recommendations for your AWS account, what must you do first?", options: ["Install Defender for Endpoint on all EC2 instances.", "Create a site-to-site VPN to Azure.", "Connect your AWS account to Defender for Cloud using a CloudFormation template.", "Nothing, it is discovered automatically."], answer: "Connect your AWS account to Defender for Cloud using a CloudFormation template.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/quickstart-onboard-aws" },
            { question: "Which Defender plan helps protect against malicious DNS queries from your Azure resources?", options: ["Defender for Servers", "Defender for DNS", "Defender for App Service", "Defender for Key Vault"], answer: "Defender for DNS", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-dns-introduction" },
            { question: "What is the difference between Foundational CSPM and Defender CSPM?", options: ["There is no difference.", "Foundational CSPM is free and provides basic recommendations, while Defender CSPM is a paid plan with advanced features like attack path analysis.", "Foundational CSPM is for on-premises, and Defender CSPM is for cloud.", "Defender CSPM only provides threat detection, not posture management."], answer: "Foundational CSPM is free and provides basic recommendations, while Defender CSPM is a paid plan with advanced features like attack path analysis.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/concept-cloud-security-posture-management#what-are-the-cloud-security-posture-management-cspm-plans" },
            { question: "Which component of Defender for Servers performs vulnerability assessments on your VMs?", options: ["Just-in-Time access", "Adaptive Application Controls", "Microsoft Defender Vulnerability Management or Qualys", "File Integrity Monitoring"], answer: "Microsoft Defender Vulnerability Management or Qualys", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/deploy-vulnerability-assessment-defender-vulnerability-management" },
            { question: "What does Defender for Resource Manager protect against?", options: ["Vulnerabilities in application code.", "Attacks targeting the Azure resource management plane, like suspicious API calls.", "Malware on virtual machines.", "Phishing attacks in email."], answer: "Attacks targeting the Azure resource management plane, like suspicious API calls.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-resource-manager-introduction" },
            { question: "How do you exempt a specific resource from a security recommendation?", options: ["Delete the recommendation.", "Create an exemption rule for the recommendation on that resource.", "Disconnect the resource from Defender for Cloud.", "Acknowledge the alert associated with the recommendation."], answer: "Create an exemption rule for the recommendation on that resource.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/exempt-resource" },
            { question: "Which feature allows you to see all your security data, including posture and threats, for Azure, AWS, and GCP in a single view?", options: ["The multicloud security dashboard", "The Azure portal home page", "The Microsoft 365 Defender portal", "The Azure Monitor overview"], answer: "The multicloud security dashboard", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/multi-cloud-dashboards" },
            { question: "What is the purpose of File Integrity Monitoring (FIM) in Defender for Cloud?", options: ["To check for malware in files.", "To monitor for changes to important files and registry keys that could indicate an attack.", "To ensure files are backed up.", "To compress files to save disk space."], answer: "To monitor for changes to important files and registry keys that could indicate an attack.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/file-integrity-monitoring-overview" },
            { question: "Which service must be enabled to allow Defender for Cloud to scan Infrastructure as Code (IaC) templates for vulnerabilities?", options: ["Defender for Servers", "Defender for DevOps", "Defender for App Service", "Defender for SQL"], answer: "Defender for DevOps", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/iac-vulnerabilities" },
            { question: "Which Defender for Cloud plan provides security for Azure App Service plans?", options: ["Defender for Servers", "Defender for Storage", "Defender for App Service", "Defender for DNS"], answer: "Defender for App Service", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/defender-for-app-service-introduction" },
            { question: "You want to automate a response to a Defender for Cloud security alert. What feature should you use?", options: ["Quick Fix", "Exemption Rule", "Workflow Automation (Logic App)", "Attack Path Analysis"], answer: "Workflow Automation (Logic App)", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/workflow-automation" },
            { question: "What is the main advantage of agentless scanning for VMs in Defender for Cloud?", options: ["It provides real-time EDR capabilities.", "It has no performance impact on the running VM and requires zero deployment on the machine.", "It can scan network traffic.", "It can block malicious processes."], answer: "It has no performance impact on the running VM and requires zero deployment on the machine.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/agentless-scanning-vulnerabilities" },
            { question: "Which Defender for Cloud feature helps you understand how different security recommendations relate to each other in a potential kill chain?", options: ["Secure Score", "Regulatory Compliance dashboard", "Attack path analysis", "Inventory"], answer: "Attack path analysis", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/attack-path-analysis" },
            { question: "To manage the security posture of your GCP projects in Defender for Cloud, what is the first step?", options: ["Deploy the Azure Arc agent to all GCP VMs.", "Create a new Azure subscription.", "Create a connector between your GCP project and Defender for Cloud.", "Install Qualys on all GCP VMs."], answer: "Create a connector between your GCP project and Defender for Cloud.", topic: "Microsoft Defender for Cloud", documentation: "https://learn.microsoft.com/en-us/azure/defender-for-cloud/quickstart-onboard-gcp" },

            // Microsoft Security Copilot Questions (60)
            { question: "What is Microsoft Security Copilot?", options: ["A standalone antivirus product.", "A generative AI-powered security analysis tool.", "A physical security appliance.", "A compliance reporting tool."], answer: "A generative AI-powered security analysis tool.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/microsoft-security-copilot-overview" },
            { question: "What is the function of a 'promptbook' in Security Copilot?", options: ["A log of all previous user queries.", "A collection of one or more prompts organized to accomplish a specific security task.", "The user interface for the tool.", "A library of pre-configured plugins."], answer: "A collection of one or more prompts organized to accomplish a specific security task.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/promptbook-overview" },
            { question: "How does Security Copilot integrate with other Microsoft Security products like Sentinel and Defender?", options: ["It replaces them entirely.", "It requires manual data export and import.", "Through built-in plugins that allow it to query and act upon data from those services.", "It has no integration capabilities."], answer: "Through built-in plugins that allow it to query and act upon data from those services.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/manage-plugins" },
            { question: "What is a primary use case for Security Copilot in incident response?", options: ["To re-image a compromised device.", "To summarize complex incidents, analyze scripts, and get guided remediation advice.", "To purchase new security licenses.", "To reset passwords for the entire organization."], answer: "To summarize complex incidents, analyze scripts, and get guided remediation advice.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/use-case-incident-response" },
            { question: "Which role is required to manage plugins and configure settings in Microsoft Security Copilot?", options: ["Security Reader", "Copilot Contributor", "Global Administrator", "Copilot Owner"], answer: "Copilot Owner", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/manage-owner-settings" },
            { question: "What type of information can you get by using the 'triage' capability in the Microsoft Defender XDR plugin for Security Copilot?", options: ["A summary of an incident, including related entities and alerts.", "A list of all users in the organization.", "The physical location of a device.", "The cost of your Azure subscription."], answer: "A summary of an incident, including related entities and alerts.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/microsoft-365-defender-triage" },
            { question: "Can you upload a local file, such as a log file, to Security Copilot for analysis?", options: ["No, Security Copilot can only access cloud data.", "Yes, you can upload files to a session for analysis.", "Only if the file is in CSV format.", "Only if you are a Global Administrator."], answer: "Yes, you can upload files to a session for analysis.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/upload-file" },
            { question: "What is the concept of an 'embedded experience' for Security Copilot?", options: ["Running Security Copilot on a mobile device.", "Using Security Copilot's features directly within the interface of another product, like Microsoft Sentinel or Defender.", "A training simulation for Copilot.", "A version of Copilot that works offline."], answer: "Using Security Copilot's features directly within the interface of another product, like Microsoft Sentinel or Defender.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/embedded-experience-overview" },
            { question: "How do you formulate an effective prompt for Security Copilot?", options: ["Use single-word commands.", "Provide clear context, specify the desired action, and explain the expected outcome.", "Write the prompt in all capital letters.", "Ask as many questions as possible in one prompt."], answer: "Provide clear context, specify the desired action, and explain the expected outcome.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/prompting-effective-prompts" },
            { question: "What is a key benefit of using Security Copilot for threat intelligence analysis?", options: ["It provides real-time satellite imagery of attacker locations.", "It can summarize threat intelligence reports and correlate threat actor information with your environment.", "It automatically blocks all traffic from suspicious countries.", "It guarantees that no security breaches will ever occur."], answer: "It can summarize threat intelligence reports and correlate threat actor information with your environment.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/use-case-threat-intelligence" },
            { question: "What role do plugins play in Security Copilot's architecture?", options: ["They are used for user authentication.", "They provide styling and themes for the user interface.", "They enable Copilot to retrieve data and take action in other services.", "They are used to track user activity."], answer: "They enable Copilot to retrieve data and take action in other services.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/manage-plugins" },
            { question: "Which Security Copilot role has the ability to submit prompts but cannot manage settings or create promptbooks?", options: ["Copilot Owner", "Copilot Contributor", "Copilot Reader", "Security Administrator"], answer: "Copilot Contributor", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/manage-access" },
            { question: "You ask Security Copilot to 'Analyze this malicious PowerShell script'. What is a likely output?", options: ["A new, safer version of the script.", "A detailed explanation of what the script does, its associated MITRE ATT&CK techniques, and suggested remediation.", "An error message, as it cannot analyze scripts.", "The name of the person who wrote the script."], answer: "A detailed explanation of what the script does, its associated MITRE ATT&CK techniques, and suggested remediation.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/use-case-script-analysis" },
            { question: "How is usage of Microsoft Security Copilot measured for billing?", options: ["Per user, per month", "By the number of prompts submitted", "By Security Compute Units (SCUs) consumed per hour", "It is free with a Microsoft 365 E5 license"], answer: "By Security Compute Units (SCUs) consumed per hour", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/billing-understand" },
            { question: "What is the purpose of creating a custom promptbook?", options: ["To change the language model used by Copilot.", "To save a series of effective prompts for a recurring task to ensure consistency and efficiency.", "To block certain users from accessing Copilot.", "To connect Copilot to a non-Microsoft data source."], answer: "To save a series of effective prompts for a recurring task to ensure consistency and efficiency.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/promptbook-build" },
            { question: "How can Security Copilot assist with KQL query generation?", options: ["It cannot generate KQL queries.", "It can translate natural language prompts into complex KQL queries for use in Sentinel or Defender.", "It provides a library of pre-made KQL queries only.", "It corrects syntax errors in existing KQL queries only."], answer: "It can translate natural language prompts into complex KQL queries for use in Sentinel or Defender.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/use-case-kql" },
            { question: "What is a 'session' in Security Copilot?", options: ["The time it takes for a prompt to be processed.", "A container for a sequence of prompts and responses related to a single investigation.", "A user's license for the product.", "A type of plugin."], answer: "A container for a sequence of prompts and responses related to a single investigation.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/get-started-security-copilot#understand-sessions" },
            { question: "You want to share the findings from a Security Copilot session with a colleague. What should you do?", options: ["Take screenshots of the entire session.", "Copy and paste the text into an email.", "Share a link to the session with the colleague.", "You cannot share sessions."], answer: "Share a link to the session with the colleague.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/session-share" },
            { question: "Which plugin would you use to ask Security Copilot about a specific device's vulnerabilities?", options: ["Microsoft Sentinel", "Microsoft Intune", "Microsoft Defender Vulnerability Management", "Microsoft Purview"], answer: "Microsoft Defender Vulnerability Management", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/microsoft-defender-vulnerability-management-plugin" },
            { question: "How does Security Copilot handle your organization's data privacy?", options: ["It sends all data to a public AI model.", "It uses your data to train the base AI model for all customers.", "It does not use your organizational data to train the foundation AI models.", "It stores your data permanently outside of your tenant."], answer: "It does not use your organizational data to train the foundation AI models.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/privacy-data-security" },
            { question: "What is the purpose of 'pinning' a prompt and response in a session?", options: ["To delete the prompt.", "To mark it as a favorite for easy reference within that session.", "To share it with your manager.", "To submit it as feedback to Microsoft."], answer: "To mark it as a favorite for easy reference within that session.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/navigate-security-copilot#pin-and-unpin-prompts" },
            { question: "You want to get a summary of a specific CVE number. What is an effective prompt?", options: ["'Tell me about CVEs'", "'Summarize CVE-2023-12345'", "'What is a vulnerability?'", "'Find threats'"], answer: "'Summarize CVE-2023-12345'", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/use-case-threat-intelligence" },
            { question: "What happens when you give a 'thumbs up' or 'thumbs down' to a Copilot response?", options: ["It opens a support ticket.", "It deletes the response.", "It provides feedback to Microsoft to help improve the service.", "It shares the response on social media."], answer: "It provides feedback to Microsoft to help improve the service.", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/navigate-security-copilot#give-feedback-on-prompts" },
            { question: "Which capability allows Security Copilot to interact with third-party security tools?", options: ["It is not possible.", "Custom plugins", "The embedded experience", "Promptbooks"], answer: "Custom plugins", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/manage-plugins#custom-plugins" },
            { question: "Where can you see a history of all your past Security Copilot sessions?", options: ["In the Azure audit log", "On the 'My sessions' page in the Security Copilot portal", "In the Microsoft 365 Defender incident queue", "It is not possible to view past sessions"], answer: "On the 'My sessions' page in the Security Copilot portal", topic: "Microsoft Security Copilot", documentation: "https://learn.microsoft.com/en-us/security-copilot/navigate-security-copilot#my-sessions" },
            
            // KQL Questions (60)
            { question: "Which KQL (Kusto Query Language) operator is used to join two tables based on a common column?", options: ["union", "join", "lookup", "merge"], answer: "join", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/joinoperator" },
            { question: "Which KQL statement is used to count the number of rows in a table?", options: ["count", "summarize count()", "dcount()", "row_count()"], answer: "summarize count()", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/countoperator" },
            { question: "In KQL, what does the `project` operator do?", options: ["Filters rows based on a predicate.", "Aggregates data.", "Selects the columns to include in the output.", "Sorts the input table."], answer: "Selects the columns to include in the output.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/projectoperator" },
            { question: "What KQL function would you use to extract a substring from a string?", options: ["extract()", "parse", "substring()", "get_string()"], answer: "substring()", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/substringfunction" },
            { question: "In KQL, how do you sort the results of a query in descending order by a column named 'Timestamp'?", options: ["sort by Timestamp desc", "order by Timestamp desc", "sort by Timestamp descending", "arrange by Timestamp desc"], answer: "order by Timestamp desc", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/order-operator" },
            { question: "Which KQL operator is used to filter a table to rows where a column value is within a specified list of values?", options: ["contains", "matches", "in", "like"], answer: "in", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/in-operator" },
            { question: "What is the purpose of the `summarize` operator in KQL?", options: ["To provide a short summary of the table schema.", "To produce a table with aggregates over groups of rows.", "To select a random sample of rows from the table.", "To join data from two different tables."], answer: "To produce a table with aggregates over groups of rows.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/summarizeoperator" },
            { question: "How would you create a new column named 'EventHour' by extracting the hour from the 'TimeGenerated' column?", options: ["extend EventHour = gethour(TimeGenerated)", "project EventHour = hourofday(TimeGenerated)", "extend EventHour = hourofday(TimeGenerated)", "project EventHour = gethour(TimeGenerated)"], answer: "extend EventHour = hourofday(TimeGenerated)", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/hourofdayfunction" },
            { question: "Which KQL operator is best for enriching a fact table with dimension data from a small dimension table?", options: ["join", "union", "lookup", "find"], answer: "lookup", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/lookupoperator" },
            { question: "What does the `dcount()` aggregation function calculate?", options: ["The total number of rows.", "The approximate distinct count of values in a column.", "The sum of all numeric values.", "The average of the values."], answer: "The approximate distinct count of values in a column.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/dcount-aggfunction" },
            { question: "Which operator is used to perform a case-insensitive search for a string?", options: ["contains", "has", "==", "search"], answer: "has", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/has-operator" },
            { question: "What is the purpose of the `let` statement in KQL?", options: ["To define a variable or a dynamic function that can be reused in the query", "To loop through a set of results", "To export the query results", "To create a conditional 'if-then' statement"], answer: "To define a variable or a dynamic function that can be reused in the query", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/letstatement" },
            { question: "How do you filter for events that occurred in the last 24 hours?", options: ["where TimeGenerated > 24h", "where TimeGenerated >= ago(1d)", "where TimeGenerated < now(-1d)", "where TimeGenerated is 'yesterday'"], answer: "where TimeGenerated >= ago(1d)", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/ago-function" },
            { question: "What does the `parse` operator excel at?", options: ["Aggregating numeric data", "Extracting structured data from a string expression", "Sorting data by multiple columns", "Joining two very large datasets"], answer: "Extracting structured data from a string expression", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/parseoperator" },
            { question: "You want to combine the results of two queries into a single result set. Which operator should you use?", options: ["join", "lookup", "combine", "union"], answer: "union", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/unionoperator" },
            { question: "Which KQL operator allows you to visualize data as a chart directly in the query results?", options: ["display", "chart", "visualize", "render"], answer: "render", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/renderoperator" },
            { question: "What is the function of `project-away`?", options: ["To add new columns to the result set.", "To remove specified columns from the result set.", "To rename columns.", "To reorder columns."], answer: "To remove specified columns from the result set.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/projectawayoperator" },
            { question: "How do you count the number of distinct users per country from a sign-in log table?", options: ["summarize count(User) by Country", "summarize dcount(User) by Country", "dcount(User, Country)", "count by User, Country"], answer: "summarize dcount(User) by Country", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/summarizeoperator" },
            { question: "A column in your table contains a JSON array of IP addresses. Which operator would you use to create a new row for each IP address in the array?", options: ["mv-apply", "mv-expand", "split", "parse_json"], answer: "mv-expand", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/mvexpandoperator" },
            { question: "What does the `take` operator do?", options: ["Returns the top N rows sorted by a specific column.", "Returns a specified number of arbitrary rows.", "Removes a specified number of rows.", "Takes a sample of the data."], answer: "Returns a specified number of arbitrary rows.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/takeoperator" },
            { question: "Which function is used to convert a string to a datetime object?", options: ["todatetime()", "make_datetime()", "format_datetime()", "string_to_date()"], answer: "todatetime()", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/todatetimefunction" },
            { question: "You need to find all events where the process name is either 'powershell.exe' or 'cmd.exe'. How would you write the `where` clause?", options: ["where ProcessName == 'powershell.exe' and ProcessName == 'cmd.exe'", "where ProcessName in ('powershell.exe', 'cmd.exe')", "where ProcessName contains ('powershell.exe', 'cmd.exe')", "where ProcessName matches 'powershell.exe' or 'cmd.exe'"], answer: "where ProcessName in ('powershell.exe', 'cmd.exe')", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/in-operator" },
            { question: "What is the purpose of the `materialize()` function in KQL?", options: ["To save the query results to a file.", "To cache the result of a subquery for reuse within the main query execution.", "To convert a dynamic column to a string.", "To render the results as a 3D model."], answer: "To cache the result of a subquery for reuse within the main query execution.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/materializefunction" },
            { question: "Which KQL operator would you use to pivot a table by turning unique values from one column into multiple columns in the output?", options: ["evaluate pivot()", "summarize makelist()", "transpose()", "pivot()"], answer: "evaluate pivot()", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/pivotplugin" },
            { question: "What does the `iif()` function do?", options: ["It performs an 'if and only if' logical comparison.", "It evaluates a predicate and returns one of two expressions based on whether the result is true or false.", "It iterates through a list of values.", "It imports a file."], answer: "It evaluates a predicate and returns one of two expressions based on whether the result is true or false.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/iiffunction" },
            { question: "How do you comment out a line in a KQL query?", options: ["-- This is a comment", "/* This is a comment */", "# This is a comment", "// This is a comment"], answer: "// This is a comment", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/comments" },
            { question: "What is the `arg_max()` aggregation function used for?", options: ["To find the maximum value of a numeric column.", "To find the value of a column for the row where another column has its maximum value.", "To find the arguments of the `max` function.", "To find the maximum length of a string."], answer: "To find the value of a column for the row where another column has its maximum value.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/arg-max-aggfunction" },
            { question: "You have a column with full URLs and you want to extract just the hostname. Which `parse` kind might you use?", options: ["parse-url", "parse kind=url", "parse Url with * '://' hostname '/' *", "extract-hostname(Url)"], answer: "parse Url with * '://' hostname '/' *", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/parseoperator" },
            { question: "Which KQL function is used to concatenate multiple strings together?", options: ["combine_strings()", "strcat()", "append()", "merge()"], answer: "strcat()", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/strcatfunction" },
            { question: "What is the difference between `count` and `dcount`?", options: ["There is no difference.", "`count` is the total number of rows, `dcount` is the approximate distinct count of values in a column.", "`dcount` is faster than `count`.", "`count` works on strings, `dcount` works on numbers."], answer: "`count` is the total number of rows, `dcount` is the approximate distinct count of values in a column.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/dcount-aggfunction" },
            { question: "How do you create a calculated column called 'ResponseCode_int' by converting a string column 'ResponseCode' to an integer?", options: ["extend ResponseCode_int = toint(ResponseCode)", "project ResponseCode_int = toint(ResponseCode)", "extend ResponseCode_int = int(ResponseCode)", "let ResponseCode_int = toint(ResponseCode)"], answer: "extend ResponseCode_int = toint(ResponseCode)", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/tointfunction" },
            { question: "What does the 'top-hitters' operator do?", options: ["Finds the most frequently occurring values in a column.", "Returns the top N rows.", "Finds the rows with the highest numeric value in a column.", "Finds the users who have logged in the most."], answer: "Finds the most frequently occurring values in a column.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/tophittersoperator" },
            { question: "Which function is used to check if a string matches a regular expression?", options: ["matches regex", "has_regex", "like", "contains_regex"], answer: "matches regex", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/matchesregexoperator" },
            { question: "You want to find the time difference between two datetime columns, 'StartTime' and 'EndTime'. Which function would you use?", options: ["datetime_diff()", "Subtract the columns directly (EndTime - StartTime)", "timespan()", "datediff()"], answer: "Subtract the columns directly (EndTime - StartTime)", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/datetime-timespan-arithmetic" },
            { question: "What is the purpose of the `distinct` operator?", options: ["To count the number of distinct values.", "To produce a table with the distinct combination of the provided columns.", "To find values that are different between two tables.", "To perform a distinct join."], answer: "To produce a a table with the distinct combination of the provided columns.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/distinctoperator" },
            { question: "How can you create a reusable block of KQL that can be called with parameters?", options: ["Using a `let` statement to define a function.", "Using the `function` keyword in a query.", "This is not possible in KQL.", "By saving the query and calling it by name."], answer: "Using a `let` statement to define a function.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/letstatement#user-defined-functions" },
            { question: "Which operator is used to search for a term across all columns in a table?", options: ["find", "search", "scan", "lookup"], answer: "search", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/searchoperator" },
            { question: "What does the `make_set()` aggregation function do?", options: ["Creates a set of tables.", "Returns a dynamic array of the distinct values that a column takes in the group.", "Configures a set of permissions.", "Creates a set of distinct rows."], answer: "Returns a dynamic array of the distinct values that a column takes in the group.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/makeset-aggfunction" },
            { question: "Which join kind returns all records from the left table and only matching records from the right table?", options: ["inner", "rightouter", "fullouter", "leftouter"], answer: "leftouter", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/joinoperator#left-outer-join" },
            { question: "What is the purpose of the pipe `|` character in KQL?", options: ["It acts as a logical OR operator.", "It passes the tabular result of one operator to the next operator.", "It is used for mathematical division.", "It separates columns in the output."], answer: "It passes the tabular result of one operator to the next operator.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/tutorial?pivots=azuredataexplorer#get-started-with-kusto-queries" },
            { question: "How can you find rows where the 'Process' column ends with 'svchost.exe'?", options: ["where Process endswith 'svchost.exe'", "where Process like '%svchost.exe'", "where Process has_suffix 'svchost.exe'", "where Process contains 'svchost.exe'"], answer: "where Process has_suffix 'svchost.exe'", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/hassuffix-operator" },
            { question: "What does `project-rename` do?", options: ["Renames the entire table.", "Renames one or more columns in the output.", "Creates a copy of a column with a new name.", "Deletes a column."], answer: "Renames one or more columns in the output.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/projectrenameoperator" },
            { question: "To find the average value of a 'RequestDuration' column, which function would you use with `summarize`?", options: ["mean(RequestDuration)", "avg(RequestDuration)", "average(RequestDuration)", "median(RequestDuration)"], answer: "avg(RequestDuration)", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/avg-aggfunction" },
            { question: "Which KQL data type is used for storing JSON objects?", options: ["json", "string", "object", "dynamic"], answer: "dynamic", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/scalar-data-types/dynamic" },
            { question: "What is the KQL equivalent of the SQL `WHERE ... LIKE '%pattern%'` clause?", options: ["where column has 'pattern'", "where column contains 'pattern'", "where column matches 'pattern'", "where column like '%pattern%'"], answer: "where column contains 'pattern'", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/contains-operator" },
            { question: "How do you calculate the 95th percentile of a 'Latency' column?", options: ["summarize percentile(Latency, 95)", "summarize p95(Latency)", "summarize percentiles(Latency, 95)", "summarize p(Latency, 95)"], answer: "summarize percentile(Latency, 95)", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/percentile-aggfunction" },
            { question: "Which function is used to access a value from a JSON object stored in a dynamic column named 'Data'?", options: ["Data.PropertyName", "Data['PropertyName']", "get_json_property(Data, 'PropertyName')", "Both A and B"], answer: "Both A and B", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/scalar-data-types/dynamic#property-accessors" },
            { question: "What does the `range()` function create?", options: ["A range of IP addresses.", "A single-column table of numbers within a given range.", "A time range for a query.", "A range of character codes."], answer: "A single-column table of numbers within a given range.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/rangeoperator" },
            { question: "What is the difference between `has` and `contains` operators?", options: ["`has` is case-sensitive, `contains` is not.", "`contains` is an alias for `has`.", "`has` searches for full tokens, `contains` searches for any substring.", "`has` is faster for large datasets."], answer: "`has` searches for full tokens, `contains` searches for any substring.", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/string-operators" },
            { question: "Which operator is most efficient for joining a large table with a small table?", options: ["join", "lookup", "union", "find"], answer: "lookup", topic: "KQL", documentation: "https://learn.microsoft.com/en-us/azure/data-explorer/kusto/query/lookupoperator" }
        ];

        let currentQuizQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let totalQuizQuestions = 20;
        let incorrectTopics = [];

        const startScreen = document.getElementById('start-screen');
        const questionScreen = document.getElementById('question-screen');
        const resultsScreen = document.getElementById('results-screen');
        
        const startBtn = document.getElementById('start-btn');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');

        const questionNumber = document.getElementById('question-number');
        const progressBar = document.getElementById('progress-bar');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackContainer = document.getElementById('feedback-container');

        const finalScore = document.getElementById('final-score');
        const scorePercentage = document.getElementById('score-percentage');
        const studyTopicsList = document.getElementById('study-topics-list');
        
        const topicAllCheckbox = document.getElementById('topic-all');
        const topicCheckboxes = document.querySelectorAll('.topic-checkbox');

        startBtn.addEventListener('click', startQuiz);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', () => {
            resultsScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
        });

        topicAllCheckbox.addEventListener('change', () => {
            topicCheckboxes.forEach(checkbox => {
                checkbox.checked = false;
                checkbox.disabled = topicAllCheckbox.checked;
            });
        });

        topicCheckboxes.forEach(checkbox => {
            checkbox.addEventListener('change', () => {
                const anyChecked = Array.from(topicCheckboxes).some(c => c.checked);
                topicAllCheckbox.checked = !anyChecked;
                 if (anyChecked) {
                    topicAllCheckbox.disabled = true;
                } else {
                    topicAllCheckbox.disabled = false;
                    topicAllCheckbox.checked = true;
                }
            });
        });

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        function startQuiz() {
            const selectedTopics = [];
            const topicError = document.getElementById('topic-error');
            if (document.getElementById('topic-all').checked) {
                const allTopics = [...new Set(questionBank.map(q => q.topic))];
                selectedTopics.push(...allTopics);
            } else {
                document.querySelectorAll('.topic-checkbox:checked').forEach(checkbox => {
                    selectedTopics.push(checkbox.value);
                });
            }

            if (selectedTopics.length === 0) {
                topicError.classList.remove('hidden');
                return;
            }
            topicError.classList.add('hidden');

            const filteredQuestions = questionBank.filter(q => selectedTopics.includes(q.topic));
            const numQuestionsInput = document.getElementById('num-questions');
            totalQuizQuestions = parseInt(numQuestionsInput.value, 10);

            if (isNaN(totalQuizQuestions) || totalQuizQuestions < 5 || totalQuizQuestions > 50) {
                alert("Please enter a number of questions between 5 and 50.");
                return;
            }
            
            if (filteredQuestions.length < totalQuizQuestions) {
                alert(`There are only ${filteredQuestions.length} questions available for the selected topics. Please select more topics or reduce the number of questions.`);
                return;
            }
            
            currentQuestionIndex = 0;
            score = 0;
            incorrectTopics = [];
            shuffleArray(filteredQuestions);
            currentQuizQuestions = filteredQuestions.slice(0, totalQuizQuestions);
            
            startScreen.classList.add('hidden');
            resultsScreen.classList.add('hidden');
            questionScreen.classList.remove('hidden');
            
            displayQuestion();
        }

        function displayQuestion() {
            nextBtn.classList.add('hidden');
            feedbackContainer.innerHTML = '';
            
            const question = currentQuizQuestions[currentQuestionIndex];
            
            questionNumber.innerHTML = `Question ${currentQuestionIndex + 1} of ${totalQuizQuestions}`;
            progressBar.style.width = `${((currentQuestionIndex + 1) / totalQuizQuestions) * 100}%`;
            questionText.textContent = question.question;
            optionsContainer.innerHTML = '';

            const shuffledOptions = [...question.options];
            shuffleArray(shuffledOptions);
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add('w-full', 'text-left', 'p-4', 'border', 'rounded-lg', 'transition-colors', 'hover:bg-gray-100', 'focus:outline-none', 'focus:ring-2', 'focus:ring-blue-500');
                button.onclick = () => checkAnswer(option, button);
                optionsContainer.appendChild(button);
            });
        }

        function checkAnswer(selectedOption, button) {
            const question = currentQuizQuestions[currentQuestionIndex];
            const isCorrect = selectedOption === question.answer;

            Array.from(optionsContainer.children).forEach(btn => {
                btn.disabled = true;
                if (btn.textContent === question.answer) {
                    btn.classList.add('correct-answer');
                }
            });

            if (isCorrect) {
                score++;
                button.classList.add('correct-answer');
                feedbackContainer.innerHTML = `<div class="p-4 mt-4 text-green-800 rounded-lg bg-green-50"><strong>Correct!</strong> Well done.</div>`;
            } else {
                button.classList.add('incorrect-answer');
                if (!incorrectTopics.includes(question.topic)) {
                    incorrectTopics.push(question.topic);
                }
                feedbackContainer.innerHTML = `
                    <div class="p-4 mt-4 text-red-800 rounded-lg bg-red-50">
                        <strong>Incorrect.</strong> The correct answer is highlighted in green.
                    </div>
                    <div class="p-4 mt-4 explanation rounded-lg">
                        <p class="font-semibold">Explanation:</p>
                        <p class="mt-2">This question relates to ${question.topic}. For a deeper understanding, please review the official documentation.</p>
                        <a href="${question.documentation}" target="_blank" class="text-blue-600 hover:underline mt-2 inline-block">Learn more on Microsoft Learn &rarr;</a>
                    </div>
                `;
            }

            nextBtn.classList.remove('hidden');
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < totalQuizQuestions) {
                displayQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            questionScreen.classList.add('hidden');
            resultsScreen.classList.remove('hidden');

            finalScore.textContent = `${score} out of ${totalQuizQuestions}`;
            const percentage = totalQuizQuestions > 0 ? (score / totalQuizQuestions) * 100 : 0;
            scorePercentage.textContent = `${Math.round(percentage)}%`;

            studyTopicsList.innerHTML = '';
            if (incorrectTopics.length > 0) {
                const uniqueTopics = [...new Set(incorrectTopics)];
                uniqueTopics.forEach(topic => {
                    const li = document.createElement('li');
                    li.textContent = topic;
                    studyTopicsList.appendChild(li);
                });
            } else {
                 studyTopicsList.innerHTML = '<li>Great job! You have a strong understanding across all topics covered in this quiz.</li>';
            }
        }
    </script>
</body>
</html>
